<div class="min-h-full">
  <header class="bg-white shadow">
    <div class="mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8">
        <h1 class="text-3xl font-bold tracking-tight text-gray-900">Budget Calculator</h1>
    </div>
  </header>

  <main>

    <div class="bg-white shadow">
      <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
        <div class="mt-5">
          <h3 class="text-2xl font-bold tracking-tight text-gray-900">Final Budget</h3>
          <div class="pt-4">
            <%= render partial: "components/income_switch" %>
          </div>
        </div>
        <div id="final_income">
          <%= render partial: "budget/salary_budget", locals: {totals: @totals, income: @salary_taxed} %>
        </div>
      </div>
    </div>

    <div class="bg-white shadow">
      <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
        <%= turbo_frame_tag "income_header_frame" do %>
          <div class="mt-5">
            <h3 class="text-2xl font-bold tracking-tight text-gray-900">Income</h3>
            <%= link_to "New Income", new_income_path, data: { turbo_frame: :incomes } %>
          </div>
        <% end %>

        <div class="pt-4">
          <%= turbo_frame_tag :incomes do %>
            <%= render "incomes/index" %>
          <% end %>
        </div>

        <div class="pt-4">
          <%= turbo_frame_tag "taxed_incomes" do %>
            <%= render partial: "shared/taxed_incomes", locals: { salary_taxed: @salary_taxed, hourly_taxed: @hourly_taxed} %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="bg-white shadow">
      <div class="mx-auto max-w-7xl py-6 sm:px-6 lg:px-8">
        <%= turbo_frame_tag "fixed_expense_header_frame" do %>
          <div class="mt-3">
            <h3 class="text-2xl font-bold tracking-tight text-gray-900">Fixed Expenses</h3>
            <%= link_to "New Fixed Expense", new_fixed_expense_path, data: { turbo_frame: :fixed_expenses } %>
          </div>
        <% end %>

        <%= turbo_frame_tag :fixed_expenses do %>
          <%= render "fixed_expenses/index" %>
        <% end  %>

        <%= turbo_frame_tag "total_costs" do %>
          <%= render partial: "shared/total_costs", locals: { totals: @totals } %>
        <% end %>
      </div>
    </div>
  </main>
</div>
